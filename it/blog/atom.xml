<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://pnpm.io/it/blog</id>
    <title>pnpm Blog</title>
    <updated>2021-12-29T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://pnpm.io/it/blog"/>
    <subtitle>pnpm Blog</subtitle>
    <icon>https://pnpm.io/it/img/favicon.png</icon>
    <entry>
        <title type="html"><![CDATA[L'anno 2021 per pnpm]]></title>
        <id>/2021/12/29/yearly-update</id>
        <link href="https://pnpm.io/it/blog/2021/12/29/yearly-update"/>
        <updated>2021-12-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[È la fine dell'anno ed è stato un buon anno per pnpm, quindi vediamo come è andata.]]></summary>
        <content type="html"><![CDATA[<p>È la fine dell&#x27;anno ed è stato un buon anno per pnpm, quindi vediamo come è andata.</p><h2>Utilizzo</h2><h3>Statistiche di download</h3><p>Il mio obiettivo quest&#x27;anno era battere Bower per numero di download. Siamo stati in grado di raggiungere questo obiettivo <a href="https://npm-stat.com/charts.html?package=pnpm&amp;package=bower&amp;from=2021-01-01&amp;to=2021-12-29">a novembre</a>:</p><p><img src="/img/blog/pnpm-vs-bower-stats.png"/></p><p>pnpm è stato scaricato circa <a href="https://npm-stat.com/charts.html?package=pnpm&amp;from=2016-12-01&amp;to=2021-12-29">3 volte in più</a> nel 2021 rispetto al 2020:</p><p><img src="/img/blog/download-stats-2021.png"/></p><p>:::note</p><p>Queste statistiche non misurano nemmeno tutti i diversi modi in cui pnpm può essere installato! Misurano solo i download del <a href="https://www.npmjs.com/package/pnpm">pacchetto pnpm di npm</a>. Quest&#x27;anno abbiamo anche aggiunto versioni binarie compilate di pnpm, che vengono fornite in modo diverso.</p><p>:::</p><h3>Visite alla documentazione</h3><p>Raccogliamo alcune statistiche non personalizzate dai nostri documenti utilizzando Google Analytics. Nel 2021, a volte abbiamo avuto più di 2.000 visitatori unici a settimana.</p><p><img src="/img/blog/ga-unique-visits-2021.png"/></p><p>La maggior parte dei nostri utenti proviene dagli Stati Uniti e dalla Cina.</p><p><img src="/img/blog/countries-2021.png"/></p><h3>Stelline su GitHub</h3><p>Il nostro <a href="https://github.com/pnpm/pnpm">repository GitHub principale</a> ha ricevuto +5.000 stelle quest&#x27;anno.</p><p><img src="/img/blog/stars-2021.png"/></p><h3>Nuovi utenti</h3><p>Il nostro più grande nuovo utente quest&#x27;anno è <a href="https://github.com/pnpm/pnpm.github.io/pull/89">Bytedance</a> (la società dietro TikTok).</p><p>Inoltre, molti grandi progetti open source hanno iniziato a utilizzare pnpm. Alcuni sono passati a pnpm grazie al suo grande supporto dei monorepo:</p><ul><li><a href="https://github.com/vuejs/vue-next">Vue</a></li><li><a href="https://github.com/vitejs/vite">Vite</a></li><li>and <a href="https://pnpm.io/workspaces#usage-examples">others</a></li></ul><p>Alcuni hanno cambiato perché apprezzano quanto sia efficiente, veloce e bello pnpm:</p><ul><li><a href="https://twitter.com/Autoprefixer/status/1476226146488692736">Autoprefixer</a></li><li><a href="https://twitter.com/PostCSS/status/1470438664006258701">PostCSS</a></li><li><a href="https://twitter.com/Browserslist/status/1468264308308156419">Browserslist</a></li></ul><h2>Caratteristiche principali</h2><h3>Nuovo formato del lockfile (dal <a href="https://github.com/pnpm/pnpm/releases/tag/v6.0.0">v6.0.0</a>)</h3><p>Uno dei primi e più importanti cambiamenti di quest&#x27;anno è stato il nuovo formato <code>pnpm-lock.yaml</code>. Questo è stato un cambiamento importante, quindi abbiamo dovuto rilasciare la v6. Ma è stato un successo. Il vecchio lockfile causava spesso conflitti con Git. Da quando è stato introdotto il nuovo formato, non abbiamo ricevuto alcun reclamo sui conflitti con Git.</p><h3>Gestione delle versioni di Node.js (da <a href="https://github.com/pnpm/pnpm/releases/tag/v6.12.0">v6.12.0</a>)</h3><p>Abbiamo fornito un nuovo comando (<code>pnpm env</code>) che permette di gestire le versioni di Node.js. Quindi puoi usare pnpm invece dei gestori di versione di Node.js come nvm o Volta.</p><p>Inoltre, pnpm viene fornito come eseguibile autonomo, quindi puoi eseguirlo anche senza Node.js preinstallato sul sistema.</p><h3>Iniezione di dipendenze locali (da <a href="https://github.com/pnpm/pnpm/releases/tag/v6.20.0">v6.20.0</a>)</h3><p>Puoi &quot;iniettare&quot; una dipendenza locale. Per impostazione predefinita, le dipendenze locali sono collegate simbolicamente a <code>node_modules</code> ma con questa nuova funzionalità puoi invece indicare a pnpm di collegare i file del pacchetto.</p><h3>Segnalazione migliorata dei problemi di dipendenze peer (da <a href="https://github.com/pnpm/pnpm/releases/tag/v6.24.0">v6.24.0</a>)</h3><p>I problemi di dipendenze peer venivano stampati come testo normale ed era difficile capirli. Ora sono tutti raggruppati e stampati in una bella struttura gerarchica.</p><h2>La competizione</h2><h3>Yarn</h3><p>Yarn ha aggiunto un linker pnpm in <a href="https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#new-install-mode-raw-pnpm-endraw-">v3.1</a>. Quindi Yarn può creare una struttura della cartella node_modules simile a quella creata da pnpm.</p><p>Inoltre, il team di Yarn prevede di implementare un archivio indirizzabile al contenuto per essere più efficiente in termini di spazio su disco.</p><h3>npm</h3><p>Il team di npm ha deciso di adottare anche la struttura della cartella node_modules simbolica utilizzata da pnpm (<a href="https://github.com/npm/rfcs/blob/main/accepted/0042-isolated-mode.md">RFC</a> correlato).</p><h3>Altri</h3><p><a href="https://twitter.com/jarredsumner/status/1473416431291174912/photo/1">Bun</a> scritto in Zig e <a href="https://github.com/voltpkg/volt">Volt</a> scritto in Rust entrambi affermano di essere più veloci di npm/Yarn/pnpm. Non ho ancora valutato questi nuovi gestori di pacchetti.</p><h2>Progetti futuri</h2><p>Più veloce, migliore, il migliore.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Opzioni di configurazione di Node-Modules con pnpm]]></title>
        <id>/2020/10/17/node-modules-configuration-options-with-pnpm</id>
        <link href="https://pnpm.io/it/blog/2020/10/17/node-modules-configuration-options-with-pnpm"/>
        <updated>2020-10-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Esistono molti modi per creare una cartella nodemodules. Il tuo obiettivo deve essere quello di creare la più rigorosa, ma se ciò non è possibile, ci sono anche opzioni per creare una cartella nodemodules sciolta.]]></summary>
        <content type="html"><![CDATA[<p>Esistono molti modi per creare una cartella node_modules. Il tuo obiettivo deve essere quello di creare la più rigorosa, ma se ciò non è possibile, ci sono anche opzioni per creare una cartella node_modules sciolta.</p><h2>Configurazione predefinita</h2><p>Per impostazione predefinita, pnpm v5 crea una cartella node_modules semi-rigorosa. Semi-rigorosa significa che la tua applicazione sarà in grado di utilizzare solo i pacchetti che sono stati aggiunti come dipendenze in <code>package.json</code> (con alcune eccezioni). Tuttavia, le tue dipendenze saranno in grado di accedere a qualsiasi pacchetto.</p><p>La configurazione predefinita è simile a questa:</p><pre><code class="language-ini">; Tutti i pacchetti vengono installati in node_modules/.pnpm/node_modules
hoist-pattern[]=*

; Tutti i tipi vengono installati alla radice per rendere felice TypeScript
public-hoist-pattern[]=*types*

; Tutti i pacchetti relativi a ESLint vengono installati alla radice anch&#x27;essi
public-hoist-pattern[]=*eslint*
</code></pre><h2>Plug&#x27;n&#x27;Play. La configurazione più rigorosa</h2><p>pnpm supporta il <a href="https://yarnpkg.com/features/pnp">Plug&#x27;n&#x27;Play di Yarn</a> dalla versione v5.9. Con PnP, sia la tua applicazione che le dipendenze della tua applicazione avranno accesso solo alle loro dipendenze dichiarate. Questo è ancora più rigoroso dell&#x27;impostazione <code>hoist=false</code> perché all&#x27;interno di un monorepo, la tua applicazione non sarà in grado di accedere nemmeno alle dipendenze del progetto root.</p><p>Per utilizzare Plug&#x27;n&#x27;Play, imposta queste impostazioni:</p><pre><code class="language-ini">node-linker=pnp
symlink=false
</code></pre><h2>Una cartella di moduli rigorosa e tradizionale</h2><p>Se non sei ancora pronto per utilizzare PnP, puoi comunque essere rigoroso e consentire solo ai pacchetti di accedere alle proprie dipendenze impostando la configurazione dell&#x27;hoist su false:</p><pre><code class="language-ini">hoist=false
</code></pre><p>Tuttavia, se alcune delle tue dipendenze stanno tentando di accedere a pacchetti che non hanno nelle dipendenze, hai due opzioni:</p><ol><li><p>Crea un <code>pnpmfile.js</code> e usa un <a href="/pnpmfile">hook</a> per aggiungere la dipendenza mancante al manifest del pacchetto.</p></li><li><p>Aggiungi un modello all&#x27;impostazione <code>hoist-pattern</code>. Ad esempio, se il modulo non trovato è <code>babel-core</code>, aggiungi la seguente impostazione a <code>.npmrc</code>:</p><pre><code class="language-ini">hoist-pattern[]=babel-core
</code></pre></li></ol><h2>Il caso peggiore - installazione alla radice</h2><p>Alcuni strumenti potrebbero non funzionare anche con la configurazione predefinita di pnpm, che installa tutto alla radice dell&#x27;archivio virtuale e alcuni pacchetti alla radice. In questo caso, puoi installare tutto o un sottoinsieme di dipendenze alla radice della cartella dei moduli.</p><p>Installa tutto alla radice di node_modules:</p><pre><code class="language-ini">shamefully-hoist=true
</code></pre><p>Installa solo i pacchetti che corrispondono a un modello:</p><pre><code class="language-ini">public-hoist-pattern[]=babel-*
</code></pre>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[La node_modules flat non è l'unico modo]]></title>
        <id>/2020/05/27/flat-node-modules-is-not-the-only-way</id>
        <link href="https://pnpm.io/it/blog/2020/05/27/flat-node-modules-is-not-the-only-way"/>
        <updated>2020-05-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[I nuovi utenti di pnpm mi chiedono spesso della strana struttura di node_modules che crea pnpm. Perché non è piatta? Dove sono tutte le dipendenze secondarie?]]></summary>
        <content type="html"><![CDATA[<p>I nuovi utenti di pnpm mi chiedono spesso della strana struttura di <code>node_modules</code> che crea pnpm. Perché non è piatta? Dove sono tutte le dipendenze secondarie?</p><blockquote><p>Presumo che i lettori dell&#x27;articolo abbiano già familiarità con la cartella <code>node_modules</code> piatta creata da npm e Yarn. Se non capisci perché npm 3 ha dovuto iniziare a utilizzare <code>node_modules</code> flat nella v3, puoi trovare un po&#x27; di preistoria in <a href="https://www.kochan.io/nodejs/why-should-we-use-pnpm.html">Perché dovremmo usare pnpm?</a>.</p></blockquote><p>Perché allora <code>node_modules</code> di pnpm è insolito? Creiamo due cartelle ed eseguiamo <code>npm add express</code> in una di esse e <code>pnpm add express</code> nell&#x27;altra. Ecco la parte superiore di ciò che si ottiene in <code>node_modules</code> della prima cartella:</p><pre><code class="language-text">.bin
accepts
array-flatten
body-parser
bytes
content-disposition
cookie-signature
cookie
debug
depd
destroy
ee-first
encodeurl
escape-html
etag
express
</code></pre><p>Puoi vedere l&#x27;intera cartella <a href="https://github.com/zkochan/comparing-node-modules/tree/master/npm-example/node_modules">qui</a>.</p><p>E questo è ciò che ottieni in <code>node_modules</code> creato da pnpm:</p><pre><code class="language-text">.pnpm
.modules.yaml
express
</code></pre><p>Puoi controllarlo <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules">qui</a>.</p><p>Allora, dove sono tutte le dipendenze? C&#x27;è solo una cartella in <code>node_modules</code> chiamata <code>.pnpm</code> e un collegamento simbolico chiamato <code>express</code>. Bene, abbiamo installato solo <code>express</code>, quindi questo è l&#x27;unico pacchetto a cui la tua applicazione deve avere accesso</p><blockquote><p>Leggi di più sul perché la severità di pnpm è una buona cosa <a href="https://medium.com/pnpm/pnpms-strictness-helps-to-avoid-silly-bugs-9a15fb306308">qui</a></p></blockquote><p>Vediamo cosa c&#x27;è dentro <code>express</code>:</p><pre><code class="language-text">▾ node_modules
  ▸ .pnpm
  ▾ express
    ▸ lib
      History.md
      index.js
      LICENSE
      package.json
      Readme.md
    .modules.yaml
</code></pre><p><code>express</code> non ha <code>node_modules</code>? Dove sono tutte le dipendenze di <code>express</code>?</p><p>Il trucco è che <code>express</code> è solo un collegamento simbolico. Quando Node.js risolve le dipendenze, utilizza le loro posizioni reali, quindi non conserva i collegamenti simbolici. Ma dov&#x27;è la vera posizione di <code>express</code>, si potrebbe chiedere?</p><p>Qui: <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules/express">node_modules/.pnpm/express@4.17.1/node_modules/express</a>.</p><p>OK, ora conosciamo lo scopo della cartella <code>.pnpm/</code>. <code>.pnpm/</code> memorizza tutti i pacchetti in una struttura di cartelle piatte, quindi ogni pacchetto può essere trovato in una cartella denominata con questo modello:</p><pre><code class="language-text">.pnpm/&lt;name&gt;@&lt;version&gt;/node_modules/&lt;name&gt;
</code></pre><p>La chiamiamo cartella dell&#x27;archivio virtuale.</p><p>Questa struttura piatta evita i problemi di percorso lunghi che sono stati causati dai <code>node_modules</code> annidati creati da npm v2 ma mantiene i pacchetti isolati a differenza dei <code>node_modules</code> piatti creati da npm v3,4,5,6 o yarn v1.</p><p>Ora diamo un&#x27;occhiata alla vera posizione di <code>express</code>:</p><pre><code class="language-text">  ▾ express
    ▸ lib
      History.md
      index.js
      LICENSE
      package.json
      Readme.md
</code></pre><p>È una truffa? Manca ancora la cartella <code>node_modules</code>! Il secondo trucco della struttura <code>node_modules</code> di pnpm è che le dipendenze dei pacchetti sono sullo stesso livello di cartella su cui si trova la posizione reale del pacchetto dipendente. Quindi le dipendenze di <code>express</code> non sono in <code>.pnpm/express@4.17.1/node_modules/express/node_modules/</code> ma in <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules">.pnpm/express@4.17.1/node_modules/</a>:</p><pre><code class="language-text">▾ node_modules
  ▾ .pnpm
    ▸ accepts@1.3.5
    ▸ array-flatten@1.1.1
    ...
    ▾ express@4.16.3
      ▾ node_modules
        ▸ accepts
        ▸ array-flatten
        ▸ body-parser
        ▸ content-disposition
        ...
        ▸ etag
        ▾ express
          ▸ lib
            History.md
            index.js
            LICENSE
            package.json
            Readme.md
</code></pre><p>Tutte le dipendenze di <code>express</code> sono collegamenti simbolici a cartelle appropriate in <code>node_modules/.pnpm/</code>. Posizionare le dipendenze di <code>express</code> un livello in alto permette di evitare i collegamenti simbolici circolari.</p><p>Quindi, come puoi vedere, anche se la struttura <code>node_modules</code> di pnpm sembra inizialmente inusuale:</p><ol><li>è completamente compatibile con Node.js</li><li>i pacchetti sono ben raggruppati con le loro dipendenze</li></ol><p>La struttura è un po&#x27; <a href="/how-peers-are-resolved">più complessa</a> per i pacchetti con dipendenze peer ma l&#x27;idea è la stessa: usare collegamenti simbolici per creare un annidamento con una struttura di cartelle piatta.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
</feed>