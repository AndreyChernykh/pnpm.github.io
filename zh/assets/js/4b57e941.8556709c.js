"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1158],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var l=n(9496);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=l.createContext({}),s=function(e){var t=l.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return l.createElement(o.Provider,{value:t},e.children)},k={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},m=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),m=s(n),d=a,c=m["".concat(o,".").concat(d)]||m[d]||k[d]||r;return n?l.createElement(c,i(i({ref:t},u),{},{components:n})):l.createElement(c,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var s=2;s<r;s++)i[s]=n[s];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5809:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>p,contentTitle:()=>o,metadata:()=>s,toc:()=>u,default:()=>m});var l=n(9518),a=n(7344),r=(n(9496),n(9613)),i=["components"],p={id:"npmrc",title:".npmrc"},o=void 0,s={unversionedId:"npmrc",id:"npmrc",title:".npmrc",description:"pnpm \u4ece\u547d\u4ee4\u884c\u3001\u73af\u5883\u53d8\u91cf\u548c .npmrc \u6587\u4ef6\u4e2d\u83b7\u53d6\u5176\u914d\u7f6e\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/npmrc.md",sourceDirName:".",slug:"/npmrc",permalink:"/zh/next/npmrc",editUrl:"https://crowdin.com/project/pnpm/zh-CN",tags:[],version:"current",frontMatter:{id:"npmrc",title:".npmrc"},sidebar:"docs",previous:{title:"package.json",permalink:"/zh/next/package_json"},next:{title:"pnpm-workspace.yaml",permalink:"/zh/next/pnpm-workspace_yaml"}},u=[{value:"\u4f9d\u8d56\u63d0\u5347\u8bbe\u7f6e",id:"\u4f9d\u8d56\u63d0\u5347\u8bbe\u7f6e",children:[{value:"hoist",id:"hoist",children:[],level:3},{value:"hoist-pattern",id:"hoist-pattern",children:[],level:3},{value:"public-hoist-pattern",id:"public-hoist-pattern",children:[],level:3},{value:"shamefully-hoist",id:"shamefully-hoist",children:[],level:3}],level:2},{value:"Node \u6a21\u5757\u8bbe\u7f6e",id:"node-\u6a21\u5757\u8bbe\u7f6e",children:[{value:"store-dir",id:"store-dir",children:[],level:3},{value:"modules-dir",id:"modules-dir",children:[],level:3},{value:"node-linker",id:"node-linker",children:[],level:3},{value:"symlink",id:"symlink",children:[],level:3},{value:"enable-modules-dir",id:"enable-modules-dir",children:[],level:3},{value:"virtual-store-dir",id:"virtual-store-dir",children:[],level:3},{value:"package-import-method",id:"package-import-method",children:[],level:3},{value:"modules-cache-max-age",id:"modules-cache-max-age",children:[],level:3}],level:2},{value:"\u9501\u6587\u4ef6\u8bbe\u7f6e",id:"\u9501\u6587\u4ef6\u8bbe\u7f6e",children:[{value:"lockfile",id:"lockfile",children:[],level:3},{value:"prefer-frozen-lockfile",id:"prefer-frozen-lockfile",children:[],level:3}],level:2},{value:"\u6ce8\u518c\u6e90 &amp; \u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e",id:"\u6ce8\u518c\u6e90--\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e",children:[{value:"registry",id:"registry",children:[{value:"&lt;scope&gt;:registry",id:"scoperegistry",children:[],level:4}],level:3},{value:"&lt;URL&gt;:_authToken",id:"url_authtoken",children:[],level:3},{value:"&lt;URL&gt;:tokenHelper",id:"urltokenhelper",children:[],level:3},{value:"&lt;URL&gt;:always-auth",id:"urlalways-auth",children:[],level:3}],level:2},{value:"\u8bf7\u6c42\u8bbe\u7f6e",id:"\u8bf7\u6c42\u8bbe\u7f6e",children:[{value:"ca",id:"ca",children:[],level:3},{value:"cafile",id:"cafile",children:[],level:3},{value:"cert",id:"cert",children:[],level:3},{value:"https-proxy",id:"https-proxy",children:[],level:3},{value:"key",id:"key",children:[],level:3},{value:"local-address",id:"local-address",children:[],level:3},{value:"proxy",id:"proxy",children:[],level:3},{value:"maxsockets",id:"maxsockets",children:[],level:3},{value:"noproxy",id:"noproxy",children:[],level:3},{value:"strict-ssl",id:"strict-ssl",children:[],level:3},{value:"network-concurrency",id:"network-concurrency",children:[],level:3},{value:"fetch-retries",id:"fetch-retries",children:[],level:3},{value:"fetch-retry-factor",id:"fetch-retry-factor",children:[],level:3},{value:"fetch-retry-mintimeout",id:"fetch-retry-mintimeout",children:[],level:3},{value:"fetch-retry-maxtimeout",id:"fetch-retry-maxtimeout",children:[],level:3},{value:"fetch-timeout",id:"fetch-timeout",children:[],level:3}],level:2},{value:"Peer Dependency Settings",id:"peer-dependency-settings",children:[{value:"auto-install-peers",id:"auto-install-peers",children:[],level:3},{value:"strict-peer-dependencies",id:"strict-peer-dependencies",children:[],level:3}],level:2},{value:"\u547d\u4ee4\u884c\u8bbe\u7f6e",id:"\u547d\u4ee4\u884c\u8bbe\u7f6e",children:[{value:"no-color",id:"no-color",children:[],level:3},{value:"loglevel",id:"loglevel",children:[],level:3},{value:"use-beta-cli",id:"use-beta-cli",children:[],level:3},{value:"recursive-install",id:"recursive-install",children:[],level:3},{value:"engine-strict",id:"engine-strict",children:[],level:3},{value:"npm-path",id:"npm-path",children:[],level:3}],level:2},{value:"\u6784\u5efa\u8bbe\u7f6e",id:"\u6784\u5efa\u8bbe\u7f6e",children:[{value:"child-concurrency",id:"child-concurrency",children:[],level:3},{value:"side-effects-cache",id:"side-effects-cache",children:[],level:3},{value:"side-effects-cache-readonly",id:"side-effects-cache-readonly",children:[],level:3},{value:"unsafe-perm",id:"unsafe-perm",children:[],level:3}],level:2},{value:"Node.js \u8bbe\u7f6e",id:"nodejs-\u8bbe\u7f6e",children:[{value:"use-node-version",id:"use-node-version",children:[],level:3},{value:"node-mirror:&lt;releaseDir&gt;",id:"node-mirrorreleasedir",children:[],level:3}],level:2},{value:"\u5176\u5b83\u8bbe\u7f6e",id:"\u5176\u5b83\u8bbe\u7f6e",children:[{value:"use-running-store-server",id:"use-running-store-server",children:[],level:3},{value:"save-prefix",id:"save-prefix",children:[],level:3},{value:"tag",id:"tag",children:[],level:3},{value:"global-dir",id:"global-dir",children:[],level:3},{value:"global-bin-dir",id:"global-bin-dir",children:[],level:3},{value:"state-dir",id:"state-dir",children:[],level:3},{value:"cache-dir",id:"cache-dir",children:[],level:3},{value:"use-stderr",id:"use-stderr",children:[],level:3},{value:"extend-node-path",id:"extend-node-path",children:[],level:3}],level:2}],k={toc:u};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,l.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"pnpm \u4ece\u547d\u4ee4\u884c\u3001\u73af\u5883\u53d8\u91cf\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," \u6587\u4ef6\u4e2d\u83b7\u53d6\u5176\u914d\u7f6e\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"pnpm config")," \u547d\u4ee4\u53ef\u7528\u4e8e\u66f4\u65b0\u548c\u7f16\u8f91 \u7528\u6237\u548c\u5168\u5c40 ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," \u6587\u4ef6\u7684\u5185\u5bb9\u3002"),(0,r.kt)("p",null,"\u56db\u4e2a\u76f8\u5173\u6587\u4ef6\u5206\u522b\u4e3a\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\uff08",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/my/project/.npmrc"),"\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u5de5\u4f5c\u533a\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"li"},"pnpm-workspace.yaml")," \u6587\u4ef6\u7684\u76ee\u5f55\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4f4d\u7528\u6237\u7684\u914d\u7f6e\u6587\u4ef6\uff08 ",(0,r.kt)("inlineCode",{parentName:"li"},"~/.npmrc")," \uff09"),(0,r.kt)("li",{parentName:"ul"},"\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff08 ",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/npmrc")," \uff09")),(0,r.kt)("p",null,"\u6240\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," \u6587\u4ef6\u90fd\u9075\u5faa ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/INI_file"},"INI-formatted")," \u5217\u8868\uff0c\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"p"},"key = value")," \u53c2\u6570\u3002"),(0,r.kt)("h2",{id:"\u4f9d\u8d56\u63d0\u5347\u8bbe\u7f6e"},"\u4f9d\u8d56\u63d0\u5347\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"hoist"},"hoist"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.0.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a ",(0,r.kt)("strong",{parentName:"li"},"boolean"))),(0,r.kt)("p",null,"\u5f53 ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"\uff0c\u6240\u6709\u4f9d\u8d56\u9879\u90fd\u88ab\u63d0\u5347\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/.pnpm"),"\u3002 \u8fd9\u4f7f\u5f97 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\u6240\u6709\u5305\u90fd\u53ef\u4ee5\u8bbf\u95ee \u672a\u5217\u51fa\u7684\u4f9d\u8d56\u9879\u3002"),(0,r.kt)("h3",{id:"hoist-pattern"},"hoist-pattern"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.0.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"['","*","']")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a ",(0,r.kt)("strong",{parentName:"li"},"string[]"))),(0,r.kt)("p",null,"\u544a\u8bc9 pnpm \u54ea\u4e9b\u5305\u5e94\u8be5\u88ab\u63d0\u5347\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/.pnpm"),"\u3002 \u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u7684\u5305\u90fd\u662f\u88ab\u63d0\u5347\u7684\uff0c\u4f46\u662f\u5982\u679c\u4f60\u77e5\u9053\u53ea\u6709\u4e00\u4e9b\u6709\u7f3a\u9677\u7684\u5305\u6709\u5e7b\u5f71\u4f9d\u8d56\u5173\u7cfb\uff0c \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u9009\u9879\u6765\u53ea\u63d0\u5347\u6709\u5e7b\u5f71\u4f9d\u8d56\u5173\u7cfb\u7684\u5305(\u63a8\u8350)\u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"hoist-pattern[]=*eslint*\nhoist-pattern[]=*babel*\n")),(0,r.kt)("h3",{id:"public-hoist-pattern"},"public-hoist-pattern"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av5.2.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"['","*","types","*","', '","*","eslint","*","', '@prettier/plugin-","*","', '","*","prettier-plugin-","*","']")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a ",(0,r.kt)("strong",{parentName:"li"},"string[]"))),(0,r.kt)("p",null,"\u4e0d\u540c\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"hoist-pattern")," \u4f1a\u628a\u4f9d\u8d56\u63d0\u5347\u5230\u4e00\u4e2a\u865a\u62df\u5b58\u50a8\u4e2d\u7684\u9690\u85cf\u7684\u6a21\u5757\u76ee\u5f55\u4e2d\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"public-hoist-pattern")," \u5c06\u5339\u914d\u7684\u4f9d\u8d56\u63d0\u5347\u81f3\u6839\u6a21\u5757\u76ee\u5f55\u4e2d\u3002 \u63d0\u5347\u81f3\u6839\u6a21\u5757\u76ee\u5f55\u4e2d\u610f\u5473\u7740\u5e94\u7528\u4ee3\u7801\u53ef\u4ee5\u8bbf\u95ee\u5230\u5e7b\u5f71\u4f9d\u8d56\uff0c\u5373\u4f7f\u4ed6\u4eec\u5bf9\u89e3\u6790\u7b56\u7565\u505a\u4e86\u4e0d\u5f53\u7684\u4fee\u6539\u3002"),(0,r.kt)("p",null,"\u5f53\u5904\u7406\u4e00\u4e9b\u6709\u7f3a\u9677\u7684\u53ef\u63d2\u62d4\u5de5\u5177\u4e0d\u80fd\u6b63\u786e\u89e3\u6790\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u6b64\u8bbe\u7f6e\u5f88\u6709\u7528\u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"public-hoist-pattern[]=*plugin*\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"shamefully-hoist")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," \u4e0e\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"public-hoist-pattern")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"*")," \u662f\u4e00\u6837\u7684\u3002"),(0,r.kt)("h3",{id:"shamefully-hoist"},"shamefully-hoist"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av1.34.0 \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"shamefully-flatten"),"\uff0c\u5728 v4.0.0 \u4e2d\u91cd\u547d\u540d"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cpnpm \u521b\u5efa\u4e00\u4e2a\u534a\u4e25\u683c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\uff0c\u8fd9\u610f\u5473\u7740\u4f9d\u8d56\u9879\u53ef\u4ee5\u8bbf\u95ee\u672a\u58f0\u660e\u7684\u4f9d\u8d56\u9879\uff0c\u4f46 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," \u4e4b\u5916\u7684\u6a21\u5757\u4e0d\u884c\u3002 \u901a\u8fc7\u8fd9\u79cd\u5e03\u5c40\uff0c\u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5927\u591a\u6570\u7684\u5305\u90fd\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002 \u4f46\u662f\uff0c\u5982\u679c\u67d0\u4e9b\u5de5\u5177\u4ec5\u5728\u63d0\u5347\u7684\u4f9d\u8d56\u9879\u4f4d\u4e8e\u6839\u76ee\u5f55\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," \u65f6\u624d\u6709\u6548\uff0c\u60a8\u53ef\u4ee5\u5c06\u5176\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," \u6765\u4e3a\u60a8\u63d0\u5347\u5b83\u4eec\u3002"),(0,r.kt)("h2",{id:"node-\u6a21\u5757\u8bbe\u7f6e"},"Node \u6a21\u5757\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"store-dir"},"store-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e: v4.2.0 \u4f5c\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"store")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"~/.pnpm-store")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"\u6240\u6709\u5305\u88ab\u4fdd\u5b58\u5728\u78c1\u76d8\u4e0a\u7684\u4f4d\u7f6e\u3002"),(0,r.kt)("p",null,"\u8be5\u5b58\u50a8\u5e94\u59cb\u7ec8\u4f4d\u4e8e\u8fdb\u884c\u5b89\u88c5\u7684\u540c\u4e00\u78c1\u76d8\u4e0a\uff0c\u56e0\u6b64\u6bcf\u4e2a\u78c1\u76d8\u5c06\u6709\u4e00\u4e2a\u5b58\u50a8\u3002 \u5982\u679c\u78c1\u76d8\u4e0a\u5b58\u5728\u4e3b\u76ee\u5f55\uff0c\u5b58\u50a8\u5219\u4f1a\u88ab\u521b\u5efa\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"<home dir>/.pnpm-store"),"\u3002 \u5982\u679c\u78c1\u76d8\u4e0a\u6ca1\u6709\u4e3b\u76ee\u5f55\uff0c\u90a3\u4e48\u5c06\u5728\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e2d\u521b\u5efa\u8be5\u5b58\u50a8\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u5b89\u88c5\u53d1\u751f\u5728\u6302\u8f7d\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt")," \u7684\u6587\u4ef6\u7cfb\u7edf\u4e0a\uff0c\u90a3\u4e48\u5b58\u50a8\u5c06\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt/.pnpm-store")," \u5904\u521b\u5efa\u3002 Windows \u7cfb\u7edf\u4e0a\u4e5f\u662f\u5982\u6b64\u3002"),(0,r.kt)("p",null,"\u53ef\u4ee5\u4ece\u4e0d\u540c\u7684\u78c1\u76d8\u8bbe\u7f6e\u540c\u4e00\u4e2a\u5b58\u50a8\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cpnpm \u5c06\u590d\u5236\u5305\u800c\u4e0d\u662f\u786c\u94fe\u63a5\u5b83\u4eec\uff0c\u56e0\u4e3a\u786c\u94fe\u63a5\u53ea\u80fd\u53d1\u751f\u5728\u540c\u4e00\u6587\u4ef6\u7cfb\u7edf\u4e0a\u3002"),(0,r.kt)("h3",{id:"modules-dir"},"modules-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.14.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"node_modules")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"\u5c06\u5b89\u88c5\u4f9d\u8d56\u9879\u7684\u76ee\u5f55\uff08\u800c\u4e0d\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\uff09\u3002"),(0,r.kt)("h3",{id:"node-linker"},"node-linker"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av5.9.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"isolated")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b: ",(0,r.kt)("strong",{parentName:"li"},"isolated"),", ",(0,r.kt)("strong",{parentName:"li"},"hoisted"),", ",(0,r.kt)("strong",{parentName:"li"},"pnp"))),(0,r.kt)("p",null,"\u5b9a\u4e49\u5e94\u8be5\u4f7f\u7528\u4ec0\u4e48\u94fe\u63a5\u5668\u6765\u5b89\u88c5 Node \u5305\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isolated")," - \u4f9d\u8d56\u9879\u4ece\u865a\u62df\u5b58\u50a8 ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules/.pnpm")," \u4e2d\u5efa\u7acb\u7b26\u53f7\u94fe\u63a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"hoisted")," - \u521b\u5efa\u4e00\u4e2a\u6ca1\u6709\u7b26\u53f7\u94fe\u63a5\u7684\u6241\u5e73\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules"),"\u3002 \u4e0e npm \u6216 Yarn Classic \u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules")," \u4e00\u81f4\u3002 \u4f7f\u7528\u6b64\u8bbe\u7f6e\u7684\u6b63\u5f53\u7406\u7531\uff1a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u60a8\u7684\u5de5\u5177\u4e0d\u9002\u7528\u4e8e\u7b26\u53f7\u94fe\u63a5\u3002 React Native \u9879\u76ee\u5f88\u53ef\u80fd\u53ea\u6709\u5728\u4f60\u4f7f\u7528\u63d0\u5347\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules")," \u624d\u80fd\u5de5\u4f5c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u60a8\u7684\u9879\u76ee\u4f1a\u88ab\u90e8\u7f72\u5230 serverless \u670d\u52a1\u63d0\u4f9b\u5546\u3002 \u4e00\u4e9b serverless \u63d0\u4f9b\u5546\uff08\u4f8b\u5982 AWS Lambda\uff09\u4e0d\u652f\u6301\u7b26\u53f7\u94fe\u63a5\u3002 \u6b64\u95ee\u9898\u7684\u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u5728\u90e8\u7f72\u4e4b\u524d\u6253\u5305\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u4f60\u60f3\u7528 ",(0,r.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#bundleddependencies"},(0,r.kt)("inlineCode",{parentName:"a"},'"bundledDependencies"'))," \u53d1\u5e03\u4f60\u7684\u5305\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u60a8\u4f7f\u7528 ",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/api/cli.html#cli_preserve_symlinks"},"--preserve-symlinks")," \u6807\u5fd7\u8fd0\u884c Node.js\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pnp")," - \u6ca1\u6709 ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules"),"\u3002 Plug'n'Play \u662f\u4e00\u79cd ",(0,r.kt)("a",{parentName:"li",href:"https://yarnpkg.com/features/pnp"},"Yarn Berry \u4f7f\u7528\u7684"),"\u521b\u65b0\u7684 Node \u4f9d\u8d56\u7b56\u7565\u3002 \u5f53\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"pnp")," \u4f5c\u4e3a\u60a8\u7684\u94fe\u63a5\u5668\u65f6\uff0c\u5efa\u8bae\u540c\u65f6\u5c06 ",(0,r.kt)("inlineCode",{parentName:"li"},"symlink")," \u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"false"),"\u3002")),(0,r.kt)("h3",{id:"symlink"},"symlink"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av5.9.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53 ",(0,r.kt)("inlineCode",{parentName:"p"},"symlink")," \u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," \u65f6\uff0cpnpm \u521b\u5efa\u4e00\u4e2a\u6ca1\u6709\u4efb\u4f55\u7b26\u53f7\u94fe\u63a5\u7684\u865a\u62df\u5b58\u50a8\u76ee\u5f55\u3002 \u4e0e ",(0,r.kt)("inlineCode",{parentName:"p"},"node-linker=pnp")," \u4e00\u8d77\u662f\u4e00\u4e2a\u6709\u7528\u7684\u8bbe\u7f6e\u3002"),(0,r.kt)("h3",{id:"enable-modules-dir"},"enable-modules-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av5.15.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53 ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," \u65f6\uff0cpnpm \u4e0d\u4f1a\u5c06\u4efb\u4f55\u6587\u4ef6\u5199\u5165\u6a21\u5757\u76ee\u5f55\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\uff09\u3002 \u8fd9\u5bf9\u4e8e\u5728\u7528\u6237\u7a7a\u95f4\u7684\u6587\u4ef6\u7cfb\u7edf (FUSE) \u4e2d\u6302\u8f7d\u6a21\u5757\u76ee\u5f55\u65f6\u5f88\u6709\u7528\u3002 \u6709\u4e00\u4e2a\u5b9e\u9a8c\u6027 CLI \u5141\u8bb8\u60a8\u5728 FUSE \u4e2d\u6302\u8f7d\u6a21\u5757\u76ee\u5f55\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@pnpm/mount-modules"},"@pnpm/mount-modules"),"\u3002"),(0,r.kt)("h3",{id:"virtual-store-dir"},"virtual-store-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.1.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"node_modules/.pnpm")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"\u5e26\u6709\u6307\u5411\u5b58\u50a8\u7684\u94fe\u63a5\u7684\u76ee\u5f55\u3002 \u6240\u6709\u76f4\u63a5\u548c\u95f4\u63a5\u4f9d\u8d56\u9879\u90fd\u94fe\u63a5\u5230\u6b64\u76ee\u5f55\u4e2d\u3002"),(0,r.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u6709\u7528\u7684\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u89e3\u51b3 Windows \u4e0a\u957f\u8def\u5f84\u7684\u95ee\u9898\u3002 \u5982\u679c\u60a8\u6709\u4e00\u4e9b\u8def\u5f84\u5f88\u957f\u7684\u4f9d\u8d56\u9879\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u5c06\u865a\u62df\u5b58\u50a8\u653e\u5728\u9a71\u52a8\u5668\u7684\u6839\u76ee\u5f55\u4e2d\uff08\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"C:\\my-project-store"),"\uff09\u3002"),(0,r.kt)("p",null,"\u6216\u8005\u60a8\u53ef\u4ee5\u5c06\u865a\u62df\u5b58\u50a8\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},".pnpm")," \u5e76\u5c06\u5176\u6dfb\u52a0\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},".gitignore"),"\u3002 \u8fd9\u5c06\u4f7f\u5806\u6808\u8ddf\u8e2a\u66f4\u6e05\u6670\uff0c\u56e0\u4e3a\u4f9d\u8d56\u9879\u7684\u8def\u5f84\u5c06\u4f1a\u63d0\u9ad8\u4e00\u4e2a\u76ee\u5f55\u5c42\u7ea7\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")," \u865a\u62df\u5b58\u50a8\u4e0d\u80fd\u5728\u591a\u4e2a\u9879\u76ee\u4e4b\u95f4\u5171\u4eab\u3002 \u6bcf\u4e2a\u9879\u76ee\u90fd\u5e94\u8be5\u6709\u81ea\u5df1\u7684\u865a\u62df\u5b58\u50a8\uff08\u9664\u4e86\u5728\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u88ab\u5171\u4eab\u7684\u6839\u76ee\u5f55\uff09\u3002"),(0,r.kt)("h3",{id:"package-import-method"},"package-import-method"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e: v1.25.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"auto")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"auto"),", ",(0,r.kt)("strong",{parentName:"li"},"hardlink"),", ",(0,r.kt)("strong",{parentName:"li"},"copy"),", ",(0,r.kt)("strong",{parentName:"li"},"clone"))),(0,r.kt)("p",null,"\u63a7\u5236\u4ece\u5b58\u50a8\u5bfc\u5165\u5305\u7684\u65b9\u5f0f\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"auto")," - \u5c1d\u8bd5\u4ece\u5b58\u50a8\u514b\u9686\u5305\u3002 \u5982\u679c\u4e0d\u652f\u6301\u514b\u9686\u5219\u4ece\u5b58\u50a8\u786c\u94fe\u63a5\u5305\u3002 \u5982\u679c\u514b\u9686\u548c\u94fe\u63a5\u90fd\u4e0d\u652f\u6301\uff0c\u5219\u56de\u9000\u5230\u590d\u5236"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"hardlink")," - \u4ece\u5b58\u50a8\u786c\u94fe\u63a5\u5305"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"copy")," - \u4ece\u5b58\u50a8\u590d\u5236\u5305"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"clone")," - \u4ece\u5546\u5e97\u514b\u9686\uff08\u4e5f\u79f0\u4e3a copy-on-write \u6216\u53c2\u8003\u94fe\u63a5\uff09\u5305")),(0,r.kt)("h3",{id:"modules-cache-max-age"},"modules-cache-max-age"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.0.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"10080")," \uff08\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\u7684 7 \u5929\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"number"))),(0,r.kt)("p",null,"\u5b64\u7acb\u5305\u5e94\u8be5\u4ece\u6a21\u5757\u76ee\u5f55\u4e2d\u88ab\u5220\u9664\u7684\u65f6\u95f4\uff08\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\uff09\u3002 pnpm \u5728\u6a21\u5757\u76ee\u5f55\u4e2d\u4fdd\u5b58\u4e86\u4e00\u4e2a\u5305\u7684\u7f13\u5b58\u3002 \u5207\u6362\u5206\u652f\u6216\u964d\u7ea7\u4f9d\u8d56\u9879\u65f6\uff0c\u8fd9\u4f1a\u63d0\u9ad8\u5b89\u88c5\u901f\u5ea6\u3002"),(0,r.kt)("h2",{id:"\u9501\u6587\u4ef6\u8bbe\u7f6e"},"\u9501\u6587\u4ef6\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"lockfile"},"lockfile"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av1.32.0 \u4f5c\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"shrinkwrap")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," \u65f6\uff0cpnpm \u4e0d\u4f1a\u8bfb\u53d6\u6216\u751f\u6210 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," \u6587\u4ef6\u3002"),(0,r.kt)("h3",{id:"prefer-frozen-lockfile"},"prefer-frozen-lockfile"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av1.37.1 \u4f5c\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"prefer-frozen-shrinkwrap")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"true"),"\uff08\u81ea v1.38.0 \u8d77\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," \u5e76\u4e14\u53ef\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," \u6ee1\u8db3 ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," \u4e2d\u90fd\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u6267\u884c\u65e0\u5934\u5b89\u88c5\u3002 \u65e0\u5934\u5b89\u88c5\u4f1a\u8df3\u8fc7\u6240\u6709\u4f9d\u8d56\u9879\u89e3\u6790\uff0c\u56e0\u4e3a\u5b83\u4e0d\u9700\u8981\u4fee\u6539\u9501\u6587\u4ef6\u3002"),(0,r.kt)("h2",{id:"\u6ce8\u518c\u6e90--\u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e"},"\u6ce8\u518c\u6e90 & \u8eab\u4efd\u9a8c\u8bc1\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"registry"},"registry"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://registry.npmjs.org/"},"https://registry.npmjs.org/"))),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"Npm \u7a0b\u5e8f\u5305\u6ce8\u518c\u8868\u7684\u57fa\u51c6 URL (\u5305\u62ec\u672b\u5c3e\u659c\u6760) \u3002"),(0,r.kt)("h4",{id:"scoperegistry"},"<","scope",">",":registry"),(0,r.kt)("p",null,"\u7528\u4e8e\u6307\u5b9a\u8303\u56f4\u7684\u5305\u7684 npm \u6ce8\u518c\u6e90\u3002 \u4f8b\u5982\uff0c\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"@babel:registry=https://example.com/packages/npm/")," \u5c06\u5f3a\u5236\u5f53\u60a8\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add @babel/core")," \u6216\u4efb\u4f55 ",(0,r.kt)("inlineCode",{parentName:"p"},"@babel")," \u8303\u56f4\u5185\u7684\u5305\u65f6\uff0c\u8be5\u5305\u5c06\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"https://example.com/packages/npm")," \u83b7\u53d6\u800c\u4e0d\u662f\u9ed8\u8ba4\u6ce8\u518c\u6e90\u4e2d\u83b7\u53d6\u3002"),(0,r.kt)("h3",{id:"url_authtoken"},"<","URL",">",":_authToken"),(0,r.kt)("p",null,"\u8bbf\u95ee\u6307\u5b9a\u6ce8\u518c\u6e90\u65f6\u8981\u4f7f\u7528\u7684\u8eab\u4efd\u9a8c\u8bc1\u627f\u8f7d\u4ee4\u724c\u3002 \u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"//registry.npmjs.org/:_authToken=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx \n")),(0,r.kt)("p",null,"\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u3002 \u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//registry.npmjs.org/:_authToken=${NPM_TOKEN}\n")),(0,r.kt)("h3",{id:"urltokenhelper"},"<","URL",">",":tokenHelper"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.25.0"),(0,r.kt)("p",null,"A token helper is an executable which outputs an auth token. This can be used in situations where the authToken is not a constant value but is something that refreshes regularly, where a script or other tool can use an existing refresh token to obtain a new access token."),(0,r.kt)("p",null,"The configuration for the path to the helper must be an absolute path, with no arguments. In order to be secure, it is only permitted to set this value in the user ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc"),". Otherwise a project could place a value in a project's local ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," and run arbitrary executables."),(0,r.kt)("p",null,"Setting a token helper for the default registry:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tokenHelper=/home/ivan/token-generator\n")),(0,r.kt)("p",null,"Setting a token helper for the specified registry:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//registry.corp.com:tokenHelper=/home/ivan/token-generator\n")),(0,r.kt)("h3",{id:"urlalways-auth"},"<","URL",">",":always-auth"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Force pnpm to always require authentication (even for GET requests) when accessing the specified registry. \u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"@babel:registry=https://gitlab.com/api/v4/packages/npm/\n//gitlab.com/api/v4/packages/npm/:always-auth=true\n\nregistry=https://registry.npmjs.org/\n//registry.npmjs.org/:always-auth=true\n")),(0,r.kt)("h2",{id:"\u8bf7\u6c42\u8bbe\u7f6e"},"\u8bf7\u6c42\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"ca"},"ca"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"The npm CA certificate")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String, Array or null"))),(0,r.kt)("p",null,'The Certificate Authority signing certificate that is trusted for SSL connections to the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). \u4f8b\u5982\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'ca="-----BEGIN CERTIFICATE-----\\nXXXX\\nXXXX\\n-----END CERTIFICATE-----"\n')),(0,r.kt)("p",null,"Set to null to only allow known registrars, or to a specific CA cert to trust only that specific signing authority."),(0,r.kt)("p",null,"Multiple CAs can be trusted by specifying an array of certificates:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'ca[]="..."\nca[]="..."\n')),(0,r.kt)("p",null,"See also the ",(0,r.kt)("inlineCode",{parentName:"p"},"strict-ssl")," config."),(0,r.kt)("h3",{id:"cafile"},"cafile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"A path to a file containing one or multiple Certificate Authority signing certificates. Similar to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ca")," setting, but allows for multiple CAs, as well as for the CA information to be stored in a file instead of being specified via CLI."),(0,r.kt)("h3",{id:"cert"},"cert"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,'A client certificate to pass when accessing the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). \u4f8b\u5982\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-test"},'cert="-----BEGIN CERTIFICATE-----\\nXXXX\\nXXXX\\n-----END CERTIFICATE-----"\n')),(0,r.kt)("p",null,"It is not the path to a certificate file (and there is no ",(0,r.kt)("inlineCode",{parentName:"p"},"certfile")," option)."),(0,r.kt)("h3",{id:"https-proxy"},"https-proxy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"A proxy to use for outgoing HTTPS requests. If the ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTPS_PROXY"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"https_proxy"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP_PROXY")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"http_proxy")," environment variables are set, their values will be used instead."),(0,r.kt)("h3",{id:"key"},"key"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,'A client key to pass when accessing the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). \u4f8b\u5982\uff1a'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'key="-----BEGIN PRIVATE KEY-----\\nXXXX\\nXXXX\\n-----END PRIVATE KEY-----"\n')),(0,r.kt)("p",null,"It is not the path to a key file (and there is no ",(0,r.kt)("inlineCode",{parentName:"p"},"keyfile")," option)."),(0,r.kt)("h3",{id:"local-address"},"local-address"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"undefined")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"IP Address"))),(0,r.kt)("p",null,"The IP address of the local interface to use when making connections to the npm registry."),(0,r.kt)("h3",{id:"proxy"},"proxy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"A proxy to use for outgoing http requests. If the HTTP_PROXY or http_proxy environment variables are set, proxy settings will be honored by the underlying request library."),(0,r.kt)("h3",{id:"maxsockets"},"maxsockets"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.18.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"network-concurrency x 3")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"\u6bcf\u4e2a\u6e90\u4f7f\u7528\u7684\u6700\u5927\u8fde\u63a5\u6570\uff08\u534f\u8bae/\u4e3b\u673a/\u7aef\u53e3\u7ec4\u5408\uff09\u3002"),(0,r.kt)("h3",{id:"noproxy"},"noproxy"),(0,r.kt)("p",null,"Added in: v5.18.8"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"A comma-separated string of domain extensions that a proxy should not be used for."),(0,r.kt)("h3",{id:"strict-ssl"},"strict-ssl"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Whether or not to do SSL key validation when making requests to the registry via HTTPS."),(0,r.kt)("p",null,"See also the ",(0,r.kt)("inlineCode",{parentName:"p"},"ca")," option."),(0,r.kt)("h3",{id:"network-concurrency"},"network-concurrency"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"16")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"Controls the maximum number of HTTP(S) requests to process simultaneously."),(0,r.kt)("h3",{id:"fetch-retries"},"fetch-retries"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"2")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"How many times to retry if pnpm fails to fetch from the registry."),(0,r.kt)("h3",{id:"fetch-retry-factor"},"fetch-retry-factor"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"10")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The exponential factor for retry backoff."),(0,r.kt)("h3",{id:"fetch-retry-mintimeout"},"fetch-retry-mintimeout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"10000 (10 seconds)")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The minimum (base) timeout for retrying requests."),(0,r.kt)("h3",{id:"fetch-retry-maxtimeout"},"fetch-retry-maxtimeout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"60000\uff081 \u5206\u949f\uff09")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum fallback timeout to ensure the retry factor does not make requests too long."),(0,r.kt)("h3",{id:"fetch-timeout"},"fetch-timeout"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.2.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"60000 (1 minute)")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"\u7b49\u5f85 HTTP \u8bf7\u6c42\u5b8c\u6210\u7684\u6700\u957f\u65f6\u95f4\u3002"),(0,r.kt)("h2",{id:"peer-dependency-settings"},"Peer Dependency Settings"),(0,r.kt)("h3",{id:"auto-install-peers"},"auto-install-peers"),(0,r.kt)("p",null,"Added in: v6.26.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add <pkg>")," automatically installs any missing peer dependencies as dev dependencies."),(0,r.kt)("h3",{id:"strict-peer-dependencies"},"strict-peer-dependencies"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av2.15.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, commands will fail if there is a missing or invalid peer dependency in the tree."),(0,r.kt)("h2",{id:"\u547d\u4ee4\u884c\u8bbe\u7f6e"},"\u547d\u4ee4\u884c\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"no-color"},"[no-]","color"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.1.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"auto")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"auto"),", ",(0,r.kt)("strong",{parentName:"li"},"always"),", ",(0,r.kt)("strong",{parentName:"li"},"never"))),(0,r.kt)("p",null,"Controls colors in the output."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"auto")," - output uses colors when the standard output is a terminal or TTY."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"always")," - ignore the difference between terminals and pipes. You\u2019ll rarely want this; in most scenarios, if you want color codes in your redirected output, you can instead pass a ",(0,r.kt)("inlineCode",{parentName:"li"},"--color")," flag to the pnpm command to force it to use color codes. The default setting is almost always what you\u2019ll want."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"never")," - turns off colors. This is the setting used by ",(0,r.kt)("inlineCode",{parentName:"li"},"--no-color"),".")),(0,r.kt)("h3",{id:"loglevel"},"loglevel"),(0,r.kt)("p",null,"Added in: v4.13.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"info")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"debug"),", ",(0,r.kt)("strong",{parentName:"li"},"info"),", ",(0,r.kt)("strong",{parentName:"li"},"warn"),", ",(0,r.kt)("strong",{parentName:"li"},"error"))),(0,r.kt)("p",null,"Any logs at or higher than the given level will be shown. You can instead pass ",(0,r.kt)("inlineCode",{parentName:"p"},"--silent")," to turn off all output logs."),(0,r.kt)("h3",{id:"use-beta-cli"},"use-beta-cli"),(0,r.kt)("p",null,"Added in: v3.6.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Experimental option that enables beta features of the CLI. This means that you may get some changes to the CLI functionality that are breaking changes, or potentially bugs."),(0,r.kt)("h3",{id:"recursive-install"},"recursive-install"),(0,r.kt)("p",null,"Added in: v5.4.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, the primary behaviour of ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install")," becomes that of ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install -r"),", meaning the install is performed on all workspace or subdirectory packages."),(0,r.kt)("p",null,"Else, ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install")," will exclusively build the package in the current directory."),(0,r.kt)("h3",{id:"engine-strict"},"engine-strict"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, pnpm will not install any package that claims to not be compatible with the current Node version."),(0,r.kt)("p",null,"Regardless of this configuration, installation will always fail if a project (not a dependency) specifies an incompatible version in its ",(0,r.kt)("inlineCode",{parentName:"p"},"engines")," field."),(0,r.kt)("h3",{id:"npm-path"},"npm-path"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av4.8.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"The location of the npm binary that pnpm uses for some actions, like publishing."),(0,r.kt)("h2",{id:"\u6784\u5efa\u8bbe\u7f6e"},"\u6784\u5efa\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"child-concurrency"},"child-concurrency"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"5")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum number of child processes to allocate simultaneously to build node_modules."),(0,r.kt)("h3",{id:"side-effects-cache"},"side-effects-cache"),(0,r.kt)("p",null,"Added in: v1.31.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean")),(0,r.kt)("li",{parentName:"ul"},"Stability: ",(0,r.kt)("strong",{parentName:"li"},"Experimental"))),(0,r.kt)("p",null,"Use and cache the results of (pre/post)install hooks."),(0,r.kt)("h3",{id:"side-effects-cache-readonly"},"side-effects-cache-readonly"),(0,r.kt)("p",null,"Added in: v1.31.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean")),(0,r.kt)("li",{parentName:"ul"},"Stability: ",(0,r.kt)("strong",{parentName:"li"},"Experimental"))),(0,r.kt)("p",null,"Only use the side effects cache if present, do not create it for new packages."),(0,r.kt)("h3",{id:"unsafe-perm"},"unsafe-perm"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"false")," IF running as root, ELSE ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Set to true to enable UID/GID switching when running package scripts. If set explicitly to false, then installing as a non-root user will fail."),(0,r.kt)("h2",{id:"nodejs-\u8bbe\u7f6e"},"Node.js \u8bbe\u7f6e"),(0,r.kt)("h3",{id:"use-node-version"},"use-node-version"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.5.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"undefined")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"semver"))),(0,r.kt)("p",null,"\u6307\u5b9a\u5e94\u7528\u4e8e\u9879\u76ee\u8fd0\u884c\u65f6\u7684\u786e\u5207 Node.js \u7248\u672c\u3002 pnpm \u5c06\u81ea\u52a8\u5b89\u88c5\u6307\u5b9a\u7248\u672c\u7684 Node.js \u5e76\u5c06\u5176\u7528\u4e8e\u6267\u884c ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm run")," \u547d\u4ee4\u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm node")," \u547d\u4ee4\u3002"),(0,r.kt)("h3",{id:"node-mirrorreleasedir"},"node-mirror:","<","releaseDir>"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.24.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"https://nodejs.org/download/<releaseDir>/"))),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"URL"))),(0,r.kt)("p",null,"\u8bbe\u7f6e\u7528\u4e8e\u4e0b\u8f7d Node.js \u7684\u57fa\u672c URL\u3002 \u6b64\u8bbe\u7f6e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"<releaseDir>")," \u90e8\u5206\u53ef\u4ee5\u662f ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/download"},"https://nodejs.org/download"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"release"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"rc"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"nightly"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"v8-canary")," \u7b49\u4e2d\u7684\u4efb\u4f55\u76ee\u5f55\u3002"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u662f\u5982\u4f55\u914d\u7f6e pnpm \u4ece\u4e2d\u56fd\u7684 Node.js \u955c\u50cf\u4e0b\u8f7d Node.js\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"node-mirror:release=https://npmmirror.com/mirrors/node/\nnode-mirror:rc=https://npmmirror.com/mirrors/node-rc/\nnode-mirror:nightly=https://npmmirror.com/mirrors/node-nightly/\n")),(0,r.kt)("h2",{id:"\u5176\u5b83\u8bbe\u7f6e"},"\u5176\u5b83\u8bbe\u7f6e"),(0,r.kt)("h3",{id:"use-running-store-server"},"use-running-store-server"),(0,r.kt)("p",null,"Added in: v2.5.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Only allows installation with a store server. If no store server is running, installation will fail."),(0,r.kt)("h3",{id:"save-prefix"},"save-prefix"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"'^'")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"Configure how versions of packages installed to a ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," file get prefixed."),(0,r.kt)("p",null,"For example, if a package has version ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.3"),", by default its version is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"^1.2.3")," which allows minor upgrades for that package, but after ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm config set save-prefix='~'")," it would be set to ",(0,r.kt)("inlineCode",{parentName:"p"},"~1.2.3")," which only allows patch upgrades."),(0,r.kt)("p",null,"This setting is ignored when the added package has a range specified. For instance, ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add foo@2")," will set the version of ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"2"),", regardless of the value of ",(0,r.kt)("inlineCode",{parentName:"p"},"save-prefix"),"."),(0,r.kt)("h3",{id:"tag"},"tag"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"latest")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"If you ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add")," a package and you don't provide a specific version, then it will install the package at the version registered under the tag from this setting."),(0,r.kt)("p",null,"This also sets the tag that is added to the ",(0,r.kt)("inlineCode",{parentName:"p"},"package@version")," specified by the ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm tag")," command if no explicit tag is given."),(0,r.kt)("h3",{id:"global-dir"},"global-dir"),(0,r.kt)("p",null,"Added in: v4.2.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"<","path to node",">","/pnpm-global")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"Specify a custom directory to store global packages."),(0,r.kt)("h3",{id:"global-bin-dir"},"global-bin-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.15.0"),(0,r.kt)("p",null,"\u5141\u8bb8\u8bbe\u7f6e\u5168\u5c40\u5b89\u88c5\u5305\u7684 bin \u6587\u4ef6\u7684\u76ee\u6807\u76ee\u5f55\u3002"),(0,r.kt)("h3",{id:"state-dir"},"state-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.10.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"$XDG_STATE_HOME/pnpm")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"pnpm \u521b\u5efa\u7684\u5f53\u524d\u4ec5\u7531\u66f4\u65b0\u68c0\u67e5\u5668\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-state.json")," \u6587\u4ef6\u7684\u76ee\u5f55\u3002"),(0,r.kt)("h3",{id:"cache-dir"},"cache-dir"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.10.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a",(0,r.kt)("strong",{parentName:"li"},"$XDG_CACHE_HOME/pnpm")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"path"))),(0,r.kt)("p",null,"\u5305\u5143\u6570\u636e\u7f13\u5b58\u7684\u4f4d\u7f6e\u3002"),(0,r.kt)("h3",{id:"use-stderr"},"use-stderr"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.5.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53\u4e3a true \u65f6\uff0c\u6240\u6709\u8f93\u51fa\u90fd\u5199\u5165 stderr\u3002"),(0,r.kt)("h3",{id:"extend-node-path"},"extend-node-path"),(0,r.kt)("p",null,"\u6dfb\u52a0\u4e8e\uff1av6.16.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u503c\uff1a ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"\u7c7b\u578b\uff1a",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"\u5f53 ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\u65f6\uff0c\u547d\u4ee4 shims \u4e2d\u4e0d\u4f1a\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"NODE_PATH")," \u73af\u5883\u53d8\u91cf\u3002 \u5982\u679c\u5728\u8fd0\u884c\u547d\u4ee4\u65f6\u9047\u5230\u5982\u4e0b\u9519\u8bef\uff0c\u5efa\u8bae\u5c06\u6b64\u8bbe\u7f6e\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"\uff1a"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The input line is too long. The syntax of the command is incorrect.")))}m.isMDXComponent=!0}}]);